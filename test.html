<html>
	<head>

        <link rel="stylesheet" href="index.css">

        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.bundle.min.js"></script>

        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.bundle.min.js"></script> -->

         <!-- <script src="//www.chartjs.org/assets/Chart.min.js"></script> -->



    	<script>
			
			

		</script>

	</head>

	<body>

		<button onclick="click();">hello world</button>
		<a href="csvfile.csv">csv file download</a>

		<canvas id="myChart" ></canvas>
<script>

chartdata = [{x:1,y:1}, {x:2,y:10}, {x:3,y:5},{x:4,y:12}];
var lastx = 5;

var data = {
        datasets: [{
            label: 'Sensor 1',
            data: chartdata,
            backgroundColor: [
                'rgba(255, 99, 132, 1)',      
            ],
            borderColor : [
                'rgba(255, 99, 132, 1)',      
            ],
            fill: false,
        }]
    };

var options =  {
        scales: {
            xAxes: [{
                type: 'linear',
                position: 'bottom'
            }]
        }
    };

var ctx = document.getElementById("myChart");
var myChart = new Chart(ctx, {
    type: 'line',
    data: data,
    options : options,
});


setInterval(function() {

	chartdata.push({x: lastx, y : Math.random() * 10});
	lastx += 1;
	// chartdata.shift();

	console.log("1 second");
	myChart.data.datasets[0].data = chartdata;
	// myChart.data.datasets[0].data
	myChart.update();

}, 1000);

</script>
		
	</body>

</html>